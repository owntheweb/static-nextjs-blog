---
title: 'DEVCON: The Developer Condition'
type: Blog Post
date: '2014-08-29'
previewImage: /images/devcon-feature.jpg
tags:
  - Needs Tagged
---
![DEVCON: The Developer Condition](/images/devcon-cube.jpg)

![DEVCON Status](/images/devcon-cube.jpg)

When inquiring about the developer condition, refer to the DEVCON Status system. Think of it as a geeky mood ring powered by the internet. When things are great, it's green. When things are hectic, it's red! There's no longer a need to ask, "How are you today?" Just look the like light and we can skip to more interesting conversations. ;)

![DEVCON front and back](/images/devcon-front-back.jpg)

In an effort to learn some basic electronics, start to figure out the [Arduino](http://arduino.cc/) microprocessor, solder for the first time and make something FUN, this "finished" piece now sits in front of my office informing all who stop by of the "developer condition".

This was also my first attempt at making a creative project _outside_ of the rectangular computer screen, still powered by the internet I love. Sometimes I feel like I'm tied to virtual realities. This was a chance to make something more physical.

![DEVCON graphic overlay](http://www.christopherstevens.cc/sites/default/files/content-images/devcon-overlay.gif)

The DEVCON Status system was inspired by the United States Armed Forces _[defense readiness condition (DEFCON)](http://en.wikipedia.org/wiki/DEFCON)_, where DEFCON 5 is a "low readiness" state and DEFCON 1 would mean that nuclear war is eminent. While DEVCON uses a reversed numbering system (bigger numbers = bigger problems!) per personal preference, it follows a similar idea of broadcasting a status in a standardized way. DEVCON conveys peace, love and creative ideas happening in the developer team to websites being down or the toilet paper supply being depleted. There's also a DEVCON PARTY status reserved for times of grand celebrations.

![DEVCON Arduino and other components](/images/devcon-parts.jpg)

### Ingredients

I used a lot of helper components to make this project fun and quick for a newbie like myself:

*   Arduino (an [older one](http://arduino.cc/en/Main/ArduinoBoardDuemilanove), was sitting in a box for a year or more)
*   [BlinkM MaxM](http://thingm.com/products/blinkm-maxm/)
*   Ethernet Shield (the one I found was way old, maybe look into [this one](https://www.sparkfun.com/products/9026) \[caution: may use different pins?\])
*   Prototype shield for soldering it all together ([this one](https://www.sparkfun.com/products/7914) should work)
*   Bipolar stepper motor (I used an [oversized, overpowered one](https://www.sparkfun.com/products/9238), will buy a [small one](https://www.sparkfun.com/products/10551) next time)
*   [EasyDriver](https://www.sparkfun.com/products/10267) stepper motor driver
*   [Pezio speaker/buzzer](https://www.sparkfun.com/products/7950) (or speaker, but I soldered the speaker wrong then tore it apart! The buzzer was handy.)
*   100 Ohm resister for buzzer
*   A nice enclosure I found at Radio Shack ([this one](http://www.radioshack.com/product/index.jsp?productId=2062285) could be it)
*   Soldering equipment
*   Hot glue holds it all together in the enclosure.

### The Code

The code merges several helpful examples that helped me get going. Here it is all mashed together with some customization for your enjoyment. See links to useful resources within.

`//QUESTIONS //how to "turn off" MaxM? - just fade to black for now /* DEVCON * * Combines several libraries and examples, customized to communicate * the "developer condition" :D * * 2014, Christopher Stevens, http://christopherstevens.cc */ //////////////////////// //The Lights //////////////////////// /* * * BlinkM connections to Arduino * PWR - -- gnd -- black -- Gnd * PWR + -- +5V -- red -- 5V * I2C d -- SDA -- green -- Analog In 4 * I2C c -- SCK -- blue -- Analog In 5 * * Note: This sketch sends to the I2C "broadcast" address of 0, * so all BlinkMs on the I2C bus will respond. * * 2008, Tod E. Kurt, ThingM, http://thingm.com/ */ #include "Wire.h" #include "BlinkM_funcs.h" #include #define blinkm_addr 0x00 /* Status Integer * 0 = IDLE * 1 = DEVCON 1 * 2 = DEVCON 2 * 3 = DEVCON 3 * 4 = DEVCON 4 * 5 = DEVOCON PARTY YAY! */ int statInt = 0; int colorCount = 8; int blinkInt = 0; byte r,g,b; byte colorPattern[6][8][3] = { { {0x00, 0x00, 0x00}, //black {0x00, 0x00, 0x00}, //black {0x00, 0x00, 0x00}, //black {0x00, 0x00, 0x00}, //black {0x00, 0x00, 0x00}, //black {0x00, 0x00, 0x00}, //black {0x00, 0x00, 0x00}, //black {0x00, 0x00, 0x00}, //black } ,{ {0x00, 0x00, 0xff}, //blue {0x00, 0x00, 0xdd}, {0x00, 0x00, 0xbb}, {0x00, 0x00, 0x99}, {0x00, 0x00, 0x77}, {0x00, 0x00, 0x99}, {0x00, 0x00, 0xbb}, {0x00, 0x00, 0xdd}, } ,{ {0x00, 0xff, 0x00}, //green {0x00, 0xdd, 0x00}, {0x00, 0xbb, 0x00}, {0x00, 0x99, 0x00}, {0x00, 0x77, 0x00}, {0x00, 0x99, 0x00}, {0x00, 0xbb, 0x00}, {0x00, 0xdd, 0x00}, } ,{ {0xff, 0xcc, 0x00}, //yellow {0xdd, 0xaa, 0x00}, {0xbb, 0x88, 0x00}, {0x99, 0x66, 0x00}, {0x77, 0x44, 0x00}, {0x99, 0x66, 0x00}, {0xbb, 0x88, 0x00}, {0xdd, 0xaa, 0x00}, } ,{ {0xff, 0x00, 0x00}, //red {0x00, 0x00, 0x00}, {0xff, 0x00, 0x00}, {0x00, 0x00, 0x00}, {0xff, 0x00, 0x00}, {0x00, 0x00, 0x00}, {0xff, 0x00, 0x00}, {0x00, 0x00, 0x00}, } ,{ {0xff, 0xff, 0xff}, // white {0xff, 0x00, 0xff}, // purple {0xff, 0xff, 0x00}, // orange {0x00, 0xff, 0xff}, // cyan {0xff, 0x00, 0x00}, // red {0x00, 0xff, 0x00}, // green {0x00, 0x00, 0xff}, // blue {0xff, 0xff, 0x00}, // yellow } , }; void setupLighting() { //blinkm BlinkM_beginWithPower(); BlinkM_stopScript( blinkm_addr ); // turn off startup script BlinkM_fadeToRGB( blinkm_addr, 0x00, 0x00, 0x00 ); } void animateBlinkM() { //lighting if(statInt != 0) { //set color pattern r = colorPattern[statInt][blinkInt][0]; g = colorPattern[statInt][blinkInt][1]; b = colorPattern[statInt][blinkInt][2]; BlinkM_fadeToRGB( blinkm_addr, r,g,b ); blinkInt++; if( blinkInt >= colorCount ) { blinkInt = 0; } } } TimedAction animateBlinkMAction = TimedAction(600,animateBlinkM); //////////////////////// //The Motor //////////////////////// int dirpin = 2; int steppin = 4; int enablepin = 7; //clock positions in micro rotations //int posMicro[12] = {0, 133, 267, 399, 533, 666, 799, 933, 1066, 1199, 1333, 1466}; int posMicro[6] = {0, 267, 533, 799, 1066, 1333}; //current micro rotation int curMicro = 0; //total micro rotations in a single turn int totalMicro = 1600; void moveToPos(int targMicro) { //!!! calculate shortest distance and set direction? digitalWrite(dirpin, LOW); //set direction to clockwise digitalWrite(enablepin, LOW); //power motor delay(200); while(targMicro != curMicro) { digitalWrite(steppin, LOW); // This LOW to HIGH change is what creates the digitalWrite(steppin, HIGH); // "Rising Edge" so the easydriver knows to when to step. delayMicroseconds(600); //250 top speed for tested motor, slower speeds = quieter curMicro++; if(curMicro >= totalMicro) { curMicro = 0; } //!!! save current micro in case power goes off? } delay(200); digitalWrite(enablepin, HIGH); //power motor off } void setupMotor() { //!!! load curMicro pinMode(dirpin, OUTPUT); pinMode(steppin, OUTPUT); pinMode(enablepin, OUTPUT); digitalWrite(enablepin, HIGH); //power motor off delay(100); } //////////////////////// //The Internet //////////////////////// /* Web client This sketch connects to a website (http://www.google.com) using an Arduino Wiznet Ethernet shield. Circuit: * Ethernet shield attached to pins 10, 11, 12, 13 created 18 Dec 2009 by David A. Mellis modified 9 Apr 2012 by Tom Igoe, based on work by Adrian McEwen DEVCON add-ons by Christopher Stevens Lots of stuff taken from: http://bildr.org/2011/06/arduino-ethernet-client/ */ #include #include // Enter a MAC address for your controller below. // Newer Ethernet shields have a MAC address printed on a sticker on the shield byte mac[] = { 0xDE, 0xAD, 0xBE, 0xEF, 0xFE, 0xED }; // if you don't want to use DNS (and reduce your sketch size) // use the numeric IP instead of the name for the server: //IPAddress server(74,125,232,128); // numeric IP for Google (no DNS) char server[] = "myhost.com"; // name address for website (using DNS) // Set the static IP address to use if the DHCP fails to assign //IPAddress ip(192,168,0,177); // Initialize the Ethernet client library // with the IP address and port of the server // that you want to connect to (port 80 is default for HTTP): EthernetClient client; char inString[32]; // string for incoming serial data int stringPos = 0; // string index counter boolean startRead = false; // is reading? void setupEthernet() { Ethernet.begin(mac); Serial.begin(9600); } String connectAndRead(){ //connect to the server Serial.println("connecting..."); //port 80 is typical of a www page if (client.connect(server, 80)) { Serial.println("connected"); //make request client.println("GET /status/status.txt HTTP/1.1"); client.println("Host: myhost.com"); client.println("Connection: close"); client.println(); //Connected - Read the page Serial.println("reading..."); return readPage(); //go and read the output }else{ return "connection failed"; } } String readPage(){ //read the page, and capture & return everything between '<' and '>' stringPos = 0; memset( &inString, 0, 32 ); //clear inString memory while(true){ if (client.available()) { char c = client.read(); if (c == '<' ) { //'<' is our begining character startRead = true; //Ready to start reading the part }else if(startRead){ if(c != '>'){ //'>' is our ending character inString[stringPos] = c; stringPos ++; }else{ //got what we need here! We can disconnect now startRead = false; client.stop(); client.flush(); Serial.println("disconnecting."); return inString; } } } } } void checkStatus() { int checkStatInt = connectAndRead().toInt(); if(checkStatInt != statInt) { setStatus(checkStatInt); } } TimedAction checkStatusAction = TimedAction(5000,checkStatus); //////////////////////// //the tones //////////////////////// /* Melody Plays a melody circuit: * 8-ohm speaker on digital pin 8 created 21 Jan 2010 modified 30 Aug 2011 by Tom Igoe This example code is in the public domain. http://arduino.cc/en/Tutorial/Tone */ #include "pitches.h" int speakerpin = 8; void setupTones() { } void playTones3() { int tones[] = {NOTE_G1, NOTE_G1, NOTE_G1, NOTE_G1}; int durs[] = {2,2,2,2}; for (int thisNote = 0; thisNote < 4; thisNote++) { // to calculate the note duration, take one second // divided by the note type. //e.g. quarter note = 1000 / 4, eighth note = 1000/8, etc. int noteDuration = 1000/durs[thisNote]; tone(8, tones[thisNote],noteDuration); // to distinguish the notes, set a minimum time between them. // the note's duration + 30% seems to work well: int pauseBetweenNotes = noteDuration * 1.30; delay(pauseBetweenNotes); // stop the tone playing: noTone(8); } } void playTones4() { int tones[] = {NOTE_B1, NOTE_C2, NOTE_CS2, NOTE_D2, NOTE_DS2, NOTE_E2, NOTE_F2, NOTE_FS2, NOTE_G2, NOTE_GS2, NOTE_A2, NOTE_AS2, NOTE_B2, NOTE_C3, NOTE_D3, NOTE_DS3, NOTE_E3, NOTE_F3, NOTE_FS3, NOTE_G3, NOTE_GS3, NOTE_A3, NOTE_AS3, NOTE_B3}; int durs[] = {2,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,2}; for(int rep = 0; rep < 2; rep++) { for (int thisNote = 0; thisNote < 24; thisNote++) { // to calculate the note duration, take one second // divided by the note type. //e.g. quarter note = 1000 / 4, eighth note = 1000/8, etc. int noteDuration = 1000/durs[thisNote]; tone(8, tones[thisNote],noteDuration); // to distinguish the notes, set a minimum time between them. // the note's duration + 30% seems to work well: //int pauseBetweenNotes = noteDuration * 1.30; int pauseBetweenNotes = noteDuration; delay(pauseBetweenNotes); // stop the tone playing: noTone(8); } delay(1000); } } void playTones() { if(statInt == 0) { //idle, do nothing } else if(statInt == 1) { } else if(statInt == 2) { } else if(statInt == 3) { playTones3(); } else if(statInt == 4) { playTones4(); } else if(statInt == 5) { } } //////////////////////// //the stuff //////////////////////// //set the DEVCON status void setStatus(int sInt) { statInt = sInt; //lighting blinkInt = 0; if(statInt == 0) { //if idle, fade light to black BlinkM_fadeToRGB( blinkm_addr, 0x00, 0x00, 0x00 ); } else { r = colorPattern[statInt][blinkInt][0]; g = colorPattern[statInt][blinkInt][1]; b = colorPattern[statInt][blinkInt][2]; BlinkM_fadeToRGB( blinkm_addr, r,g,b ); } //motor moveToPos(posMicro[statInt]); delay(500); playTones(); } /* //for testing void cycleStates() { setStatus(statInt); statInt++; if(statInt >= 6) { statInt = 0; } } TimedAction cycleStateAction = TimedAction(10000,cycleStates); */ void setup() { setupLighting(); setupMotor(); setupEthernet(); } void loop() { animateBlinkMAction.check(); checkStatusAction.check(); //cycleStateAction.check(); //for no-internet testing }`

### Server Side

![DEVCON PARTY](/images/devcon-party.jpg)

On the server side, there's a basic admin page that sets the status from anywhere there is an internet connection (actually created this a LONG time ago before getting into the hardware while playing with [Foundation](http://foundation.zurb.com/)). The status is saved to a text file that the Android reads and parses.

`'); fclose($handle); $filename = "status/reason.txt"; $handle = fopen($filename,"w"); fwrite($handle, $reason); fclose($handle); } else { $filename = "status/status.txt"; $handle = fopen($filename,"r"); $status = str_replace(array('<','>'), array('',''), fread($handle, filesize($filename))); fclose($handle); $filename = "status/reason.txt"; $handle = fopen($filename,"r"); $reason = stripslashes(fread($handle, filesize($filename))); fclose($handle); } $devconLabel = $status; if($devconLabel == "5") { $devconLabel = "PARTY"; } else if($devconLabel == "0") { $devconLabel = "IDLE"; } $devconLabel = "DEVCON " . $devconLabel; //show form if($_GET['set'] == 1) { $showForm = true; } ?>   DEVCON: The "Developer Condition"    Current DEVCON Status  **Reason:**  Update DEVCON Status   CHECKED> checked">  DEVCON PARTY!  It could be DEVCON 5, but there's a party happening, and you should join the party RIGHT NOW! Yeahh!  * * *   CHECKED> checked">  DEVCON 4  A website is down. We're out of toilet paper. Someone _accidentally_ activated DEVCON 4...  * * *   CHECKED> checked">  DEVCON 3  Developers are fluently speaking in five scripting languages while English is no longer understood.  * * *   CHECKED> checked">  DEVCON 2  Developers are steadily assimilating the Internet one website at a time. Resistance is futile.  * * *   CHECKED> checked">  DEVCON 1  Strategic planning is underway. Ideas are blossoming. There's peace and love in the world everywhere.  * * *   CHECKED> checked">  DEVCON IDLE  Go green and save power... or gray because green is already taken.  * * *  Reason for Change required   * * *  document.write('<script src=' + ('__proto__' in {} ? '/js/vendor/zepto' : '/js/vendor/jquery') + '.js><\/script>') $(document).foundation();`

### Unfinished Business

*   A few times throughout the day, the device reverts to the startup idle status, then quickly returns to the current status (interesting).
*   It would be nice to write the current motor step to memory for recovery if the system gets shut off. Otherwise, it starts pointing to the wrong status when you turn it back on and you have to manually turn the pointer to its first condition.
*   When turning it on, sometimes it doesn't connect to the internet and the reset button needs to be pressed once or twice to get it going (after that, it's great)
*   If I were to produce this again, I'd recommend using a wireless [Arduino Yun](http://arduino.cc/en/Main/ArduinoBoardYun) as the wireless connection is built into the Arduino (less bulk and one less wire, perhaps more reliable?)

### What's Next?

After some time where my mail was being stolen (they caught the crazy lady) and my car window was shot out with a bb-gun, then my car door was destroyed with a poorly attempted break-in... then some drunk guy and his buddy were kicking my car and others for no logical reason (thanks neighbor for terrorizing them), I want to build a motion detecting security camera system. [Raspberry Pi](http://www.raspberrypi.org) has a lot of community support for building [something like this](http://simpledev.webs.com/apps/blog/) on the cheap. After that I can see getting more creative and fun with electronics in other ways.

Maybe I'll make something with more processing 'mmph' using the [BeagleBone Black](http://beagleboard.org/black). Do you have any thoughts on high powered tiny computers/SBCs?
